1. 설치

SQASS는 하나의 압축 파일로 제공되고 있으며 내부는 Java class 파일과 python 코드로 이루어져있기 때문에 별도의 컴파일 과정은 필요 없다.
다음과 같은 명령으로 압축을 풀면 SQASS의 설치가 끝난다.

tar -xvzf SQASS.tar.gz


2. 파일 및 폴더 설명

Data 폴더에는 입력으로 사용할 XML 파일들이 저장되어 있으며 query.xml에는 질의로 사용할 내용이 저장되어 있다.
cqasys_server.jar는 SQASS 서버로 별도의 서블릿 컨테이너 없이도 스탠드얼론 형태로 실행이 가능하다.
cqasys_insert_data.py는 입력 데이터를 서버로 전송하는 명령으로 파이썬으로 작성되었다.
cqasys_query.py는 질의문을 서버로 전송하고 그 결과를 화면에 출력하는 명령으로 파이썬으로 작성되었다.
cqasys_server_reset.py는 서버의 인덱스를 초기화하는 명령어로 서버에 저장되어 있는 인덱스를 모두 삭제하며 파이썬으로 작성되었다.


3. 실행 환경

SQASS는 리눅스 환경에 Java JRE가 설치되어 있고 python이 깔려 있으면 별도의 준비 없이 바로 시행 가능하다. 단 언어 인코딩 설정은 UTF-8로 되어 있어야 한다.
SQASS를 실행하기 위해서는 서버 실행, 데이터 입력, 질의의 3단계를 거쳐야 한다. SQASS의 원활한 실행을 위해서는 두 개의 콘솔 입력 창이 필요하며, 한 창에서는 서버가 실행되고, 다른 창에서는 데이터 입력, 질의 입력, 결과 출력 등의 작업이 이루어지게 된다.


4. 실행 방법

SQASS 서버는 다음 명령을 통해 실행 가능하다.  

java -jar cqasys_server.jar

일단 서버가 실행되면 각종 로그가 화면에 출력되며 다음과 같이 “– Started SocketConnector@0.0.0.0:8983“라는 메시지가 출력되면 제대로 서버가 실행된 것이다.

입력으로 사용할 XML 데이터를 적당한 폴더에 저장 후 다음 명령을 수행하면 해당 폴더에 있는 XML 문서들이 모두 서버로 전송되어 인덱싱 된다. 아래 명령을 수행하면 Data라는 폴더 아래에 있는 파일을 입력으로 읽어들여서 인덱싱을 하게 된다. 인덱싱 결과는 로그로 화면에 출력된다.

python cqasys_insert_data.py Data

서버에 질의를 하기위해서는 적절한 형태의 질의문이 있어야하며, 하나의 질의에 대해서 몇 개의 검색 결과를 생성할지 질의 명령에 인자로 알려줘야 한다. 아래 명령을 실행하면 query.xml를 질의로 입력 받아서 각 질의에 대해 10개의 결과를 생성한 뒤 이를 result.xml 파일에 저장하게 된다.

python cqasys_query.py query.xml 10 > result.xml

입력된 데이터는 서버 종료 후에도 인덱싱되어 남아 있으므로 테스트를 위해 데이터를 새로 입력하려면 서버에 남아 있는 데이터를 초기화해야 한다.
초기화를 하기 위해서는 다음 명령을 실행하면 된다.

python cqasys_server_reset.py
